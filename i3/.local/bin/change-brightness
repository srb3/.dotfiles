#!/bin/sh
# change-brightness
# adapted from https://github.com/mohabaks

# Arbitrary but unique message id
msgId="69420"

function get_brightness() {
	light -G | cut -d "." -f1
}

function send_notification() {
	verb=$1
	brightness=$(get_brightness)
	echo $brightness here
	# Send the notification
	dunstify \
		-a "change-brightness" \
		-r "$msgId" \
		-u low \
		-t 1500 \
		-h int:value:"$brightness" \
		"Brightness $verb."
}

case $1 in
up)
	# increase the backlight by 5%
	light -A 5
	send_notification increased
	;;
down)
	# decrease the backlight by 5%
	light -U 5
	send_notification decreased
	;;
esac
